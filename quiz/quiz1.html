<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0" />
  <title>Module 1 Quiz - Parts of the Camera</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;400&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    :root{--bg:#0f0f10;--card:#2b2b2f;--muted:#b3b3b7;--accent:#ff3b3f}
    html,body{height:100vh;margin:0;padding:0;background:var(--bg);font-family:Inter,Montserrat,Arial;color:#fff;width:100vw;overflow:hidden}

    /* Force portrait: in landscape show a rotate prompt and hide the quiz content */
    @media only screen and (orientation: landscape){
      body::before{content:'Please rotate your device to portrait';position:fixed;inset:0;background:var(--bg);color:#fff;display:flex;align-items:center;justify-content:center;font-size:1.6rem;z-index:9999}
      #main-content{display:none !important}
    }
    .wrap{max-width:760px;margin:20px auto;padding:18px;padding-bottom:140px}
  .top{display:flex;align-items:center;justify-content:center;flex-direction:row;gap:12px;position:relative;width:100%; margin-bottom:20px;}
  .titles{display:flex;flex-direction:column;align-items:center;text-align:center}
  .top .back{position:absolute;left:0}
    .title{font-family:Montserrat,Arial;font-size:28px;font-weight:700}
    .subtitle{color:var(--muted)}
    .quiz-page{overflow: scroll;}
    .progress{display:flex;gap:12px;margin-top:8px;width:100%}
    .prog-seg{height:14px;border-radius:12px;background:#3a3a3c;flex:1;min-width:38px}
    .prog-seg.active{background:linear-gradient(90deg,#ff6b6b,#e23b3b)}
    .prog-seg.completed{background:linear-gradient(90deg,#ff6b6b,#e23b3b)}
    .card{background:#232327;border-radius:16px;padding:18px;margin-top:18px;border:1px solid rgba(255,255,255,0.02)}
  /* Stack the badge above the question so the question/choices take full width */
  .qmeta{display:block}
  .qbadge{width:56px;height:56px;border-radius:12px;background:linear-gradient(180deg,#ff6b6b,#e23b3b);display:inline-flex;align-items:center;justify-content:center;font-weight:700;margin-bottom:10px}
  .qtxt{font-size:20px;font-weight:700;margin:6px 0}
    .choices{display:flex;flex-direction:column;gap:12px;margin-top:12px}
    .choice{background:#2b2b2f;border-radius:12px;padding:12px;display:flex;align-items:center;gap:12px;cursor:pointer;border:1px solid rgba(255,255,255,0.02)}
    .choice .letter{width:44px;height:44px;border-radius:50%;background:linear-gradient(180deg,#ff6b6b,#e23b3b);display:flex;align-items:center;justify-content:center;font-weight:700}
    .choice.selected{outline:3px solid rgba(255,59,63,0.12)}
  /* kept styles available but we won't reveal correctness until results */
  /* Stack nav buttons vertically and style disabled state */
    .nav{display:flex;flex-direction:column;gap:12px;position:fixed;left:50%;transform:translateX(-50%);bottom:18px;z-index:999;background:transparent;width:calc(100% - 40px);max-width:760px;padding:0 10px}
    .btn{width:100%;padding:14px;border-radius:14px;border:none;background:#1c1c1d;color:#fff;font-weight:700;cursor:pointer}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);height:56px}
    .btn.primary{background:linear-gradient(90deg,#ff6b6b,#e23b3b);height:64px}
    .btn:disabled{opacity:0.45;cursor:default}
    .result{margin-top:18px;background:#141417;border-radius:12px;padding:16px;color:var(--muted)}

    /* Header/back button styling to match module1 */
    .header{display:flex;align-items:center;justify-content:flex-end;margin-bottom:8px}
    .back{background:#232326;border-radius:12px;border:2px solid rgba(179,179,183,0.2);width:56px;height:56px;display:flex;align-items:center;justify-content:center;color:var(--muted);cursor:pointer}
  </style>
</head>
<body class="quiz-page">
  <div id="main-content">
    <div class="wrap">
      <div class="top">
        <button class="back" onclick="window.location.href='../index.html'" aria-label="Back">◀</button>
        <div class="titles">
          <div class="title">Module 1 Quiz</div>
          <div class="subtitle">Parts of the Camera</div>
        </div>
      </div>
    <div class="progress" id="progress"></div>

    <div class="card" id="quizCard">
      <div class="qmeta">
        <div class="qbadge" id="qBadge">Q1</div>
        <div style="flex:1">
          <div class="qtxt" id="qText">Question text</div>
          <div class="choices" id="choices"></div>
        </div>
      </div>
    </div>

    <div class="nav">
      <button id="prevBtn" class="btn ghost">Previous</button>
      <button id="nextBtn" class="btn primary">Next →</button>
    </div>

    <div id="result" class="result" style="display:none"></div>
  </div>

  <script>
    const quiz = [
      {q:'The focus ring on a camera is used to', choices:['Adjust the sharpness of the subject','Control light sensitivity','Change shooting modes','Trigger the shutter'], a:0},
      {q:'The mode selector allows the photographer to', choices:['Zoom in and out on the subject','Switch between autofocus and manual focus','Choose between manual, automatic, or priority modes','Adjust the exposure through ISO'], a:2},
      {q:'The ISO setting affects', choices:['The sharpness of the image','The sensitivity of the sensor to light','The duration the shutter remains open','The focal length of the zoom lens'], a:1},
      {q:'The shutter release button is responsible for', choices:['Composing the shot through the viewfinder','Adjusting aperture and shutter speed','Displaying exposure settings on the screen','Triggering the camera to capture the image'], a:3},
      {q:'The light meter in a camera is used to', choices:['Indicate if the exposure is too bright, too dark, or balanced','Show the battery level of the camera','Control the zoom level of the lens','Display shooting information like ISO and mode'], a:0}
    ];

    let idx = 0;
    const answers = Array(quiz.length).fill(null);

    const progressEl = document.getElementById('progress');
    const qBadge = document.getElementById('qBadge');
    const qText = document.getElementById('qText');
    const choicesEl = document.getElementById('choices');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const resultEl = document.getElementById('result');

    function renderProgress(){
      progressEl.innerHTML = '';
      for(let i=0;i<quiz.length;i++){
        const seg = document.createElement('div');
        // completed if answered, current if index
        if(answers[i] !== null){ seg.className = 'prog-seg completed'; }
        else if(i === idx){ seg.className = 'prog-seg active'; }
        else { seg.className = 'prog-seg'; }
        progressEl.appendChild(seg);
      }
    }

    function render(){
      const item = quiz[idx];
      qBadge.textContent = 'Q'+(idx+1);
      qText.textContent = item.q;
      choicesEl.innerHTML = '';
      item.choices.forEach((c,i)=>{
        const ch = document.createElement('div');
        ch.className='choice';
        ch.innerHTML = `<div class="letter">${String.fromCharCode(65+i)}</div><div style="flex:1">${c}</div>`;
        ch.tabIndex = 0;
        ch.addEventListener('click', ()=>{ select(i); });
        ch.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); select(i); } });

        function select(choiceIndex){
          answers[idx]=choiceIndex;
          render();
        }

        // If this question has already been answered, show selected state only
        if(answers[idx] !== null){
          const selected = answers[idx];
          if(i === selected){ ch.classList.add('selected'); }
        }

        choicesEl.appendChild(ch);
      });

      // previous button disabled (grayed out) on first question
      prevBtn.disabled = idx===0;
      // next button label
      nextBtn.textContent = idx===quiz.length-1? 'Submit':'Next →';
      // Next enabled only after the user selects an answer for this question
      nextBtn.disabled = answers[idx] === null;
      // visually indicate progress: mark completed segments when user has answered
      renderProgress();
    }

    prevBtn.addEventListener('click', ()=>{ if(idx>0){ idx--; render(); }});
    nextBtn.addEventListener('click', ()=>{
      if(idx<quiz.length-1){ idx++; render(); return; }
      // submit: save answers to localStorage and navigate to result page
      try{
        localStorage.setItem('quiz1_answers', JSON.stringify(answers));
      }catch(e){ console.warn('localStorage unavailable', e); }
      window.location.href = 'results/quiz1-result.html';
    });

    render();
  </script>
</body>
</html>
